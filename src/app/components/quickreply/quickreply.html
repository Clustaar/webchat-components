<div class="console-quickreply-type">
  <div [style.background-color]="primaryColor" class="bubble" [ngClass]="{'bot': !inverted, 'user' : inverted}"
       [style.color]="textColor">
    <span *ngIf="!inverted" [style.border-right-color]="primaryColor" class="bubble-arrow"></span>
    <span [innerHTML]="action.message">
    </span>
    <span *ngIf="inverted" [style.border-left-color]="primaryColor" class="bubble-arrow-right"></span>
  </div>
  <div *ngIf="!readOnly; else readyOnlyButton" [ngClass]="{'is-over': isOver}" class="quickreply-buttons">
    <button (mouseenter)="indexHoverButton=i" (mouseleave)="indexHoverButton=-1" [style.border-color]="primaryColor"
            [style.background-color]="(indexHoverButton==i || i == indexSelectedButton)? primaryColor: null"
            [style.color]="(indexHoverButton==i || i == indexSelectedButton)? textColor: null"
            class="quickreply-button" [disabled]="indexSelectedButton != null && i !== indexSelectedButton"
            [ngClass]="{'selected-button': i == indexSelectedButton, 'bot': !inverted, 'user' : inverted}"
            (click)="sendReply(i, button)" *ngFor="let button of action.buttons; let i = index;">
      {{button.title}}
    </button>
  </div>

  <ng-template #readyOnlyButton>
    <div class="quickreply-buttons">
      <button class="quickreply-button" disabled
              [style.border-color]="primaryColor"
              [style.background-color]="(indexHoverButton==i || i == indexSelectedButton)? primaryColor: null"
              [style.color]="(indexHoverButton==i || i == indexSelectedButton)? textColor: null"
              [ngClass]="{'selected-button': i == indexSelectedButton, 'bot': !inverted, 'user' : inverted}"
              *ngFor="let button of action.buttons; let i = index;">
        {{button.title}}
      </button>
    </div>
  </ng-template>

</div>
